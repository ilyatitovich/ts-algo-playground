/*
unzip

Реализуйте функцию, которая группирует значения из массивов по индексам.
Если хоть один аргумент не массив — нужно выбросить ошибку ${arg} is not array.

*/

function unzip(...arrays: any[]) {
  // Проверка, что все аргументы являются массивами
  for (const arg of arrays) {
    if (!Array.isArray(arg)) {
      throw new Error(`${String(arg)} is not array`);
    }
  }

  // Определение максимальной длины массивов
  const maxLength = arrays.reduce((max, arr) => Math.max(max, arr.length), 0);

  // Создание результирующего массива
  return Array.from({ length: maxLength }, (_, i) =>
    arrays.map((arr) => arr[i])
  );
}

export default unzip;

/*
Объяснение:

1. Валидация аргументов:
  - Проверяем каждый аргумент с помощью Array.isArray().
  - Если хотя бы один аргумент не массив, выбрасываем ошибку с текстом вида ${arg} is not array.

2. Определение максимальной длины:
  - Используем reduce(), чтобы найти максимальную длину среди всех переданных массивов.

3. Формирование результата:
  - Создаём массив длиной maxLength.
  - Для каждого индекса i собираем элементы из всех массивов на этом индексе (если элемента нет, возвращается undefined).

*/
