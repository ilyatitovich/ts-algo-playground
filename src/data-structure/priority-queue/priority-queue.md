# Priority Queue (Очередь с приоритетом)

## Описание

Очередь с приоритетом — это структура данных, в которой элементы извлекаются в порядке их приоритета, а не в порядке добавления (как в обычной очереди). Она реализуется с использованием **двоичной кучи (Heap)**, что обеспечивает эффективные операции вставки и удаления.

## Принцип работы

Очередь с приоритетом поддерживает следующие операции:

1. **enqueue(value, priority)** – добавляет элемент с приоритетом в очередь.
2. **dequeue()** – удаляет и возвращает элемент с наивысшим приоритетом (минимальное значение).
3. **peek()** – возвращает элемент с наивысшим приоритетом без удаления.
4. **size()** – возвращает количество элементов в очереди.
5. **isEmpty()** – проверяет, пуста ли очередь.

## Реализация

Очередь с приоритетом может быть реализована разными способами:

- **На основе списка** – неэффективно, поскольку поиск минимального элемента занимает **O(n)**.
- **На основе отсортированного списка** – вставка **O(n)**, но удаление **O(1)**.
- **На основе двоичной кучи** – оптимальный вариант, где **вставка и удаление работают за O(log n)**.

### Используемый алгоритм (Binary Heap)

1. **Добавление (enqueue)**:
   - Новый элемент помещается в конец массива (кучи).
   - Затем он **всплывает вверх (bubble up)**, пока не окажется на нужном месте.
   - В худшем случае это занимает **O(log n)** операций.

2. **Удаление (dequeue)**:
   - Корневой элемент (наивысший приоритет) заменяется последним элементом массива.
   - Затем он **просеивается вниз (sink down)**, чтобы восстановить свойства кучи.
   - Это также занимает **O(log n)** времени.

## Применение

Очередь с приоритетом широко используется в:

- **Поисковых алгоритмах (A*)** – выбор узла с наименьшей стоимостью.
- **Операционных системах** – планирование процессов, обработка прерываний.
- **Графовых алгоритмах (Dijkstra, Prim)** – эффективное нахождение кратчайшего пути.
- **Обработке событий** – управление задачами в реальном времени.
- **Симуляциях** – моделирование событий с различными приоритетами.

## Пример использования

```typescript
const pq = new PriorityQueue<string>();

pq.enqueue("Учить TypeScript", 2);
pq.enqueue("Сделать проект", 1);
pq.enqueue("Прочитать книгу", 3);

console.log(pq.dequeue()); // "Сделать проект"
console.log(pq.dequeue()); // "Учить TypeScript"
console.log(pq.dequeue()); // "Прочитать книгу"
```

## Заключение

Очередь с приоритетом — мощный инструмент для работы с задачами, имеющими разные приоритеты. Благодаря **двоичной куче**, операции выполняются эффективно, что делает её незаменимой во многих алгоритмах и системах.
